{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate,Link}from\"react-router-dom\";import\"../styles/Login.css\";// Make sure this path is correct\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const[formData,setFormData]=useState({username:\"\",password:\"\"});const[error,setError]=useState(\"\");const[loading,setLoading]=useState(false);const navigate=useNavigate();const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError(\"\");try{const response=await fetch(\"http://localhost:3000/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:formData.username,password:formData.password})});const data=await response.text();if(response.ok){navigate(\"/\");}else{setError(data);}}catch(err){setError(\"An error occurred. Please try again.\");}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"login-page\",children:/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-card\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"CropXpert\"}),/*#__PURE__*/_jsx(\"p\",{className:\"login-tagline\",children:\"Your Smart Farming Assistant\"}),/*#__PURE__*/_jsx(\"div\",{className:\"icon-container\",children:/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M12 22c2-4 4-8 4-12 0-2.2-1.8-4-4-4s-4 1.8-4 4c0 4 2 8 4 12z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 14c2-2 3-4 3-6 0-1.1-0.9-2-2-2s-2 0.9-2 2c0 2 1 4 3 6z\"})]})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"username\",children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"7\",r:\"4\"})]}),\"Username\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"username\",value:formData.username,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"password\",children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"3\",y:\"11\",width:\"18\",height:\"11\",rx:\"2\",ry:\"2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M7 11V7a5 5 0 0 1 10 0v4\"})]}),\"Password\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:formData.password,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-btn\",disabled:loading,children:loading?\"Logging in...\":\"Login\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\",children:/*#__PURE__*/_jsx(\"span\",{children:\"OR\"})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"register-link\",children:\"Register\"})]})]})})});}export default Login;","map":{"version":3,"names":["React","useState","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","Login","formData","setFormData","username","password","error","setError","loading","setLoading","navigate","handleChange","e","name","value","target","prev","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","text","ok","err","className","children","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","onSubmit","htmlFor","cx","cy","r","type","id","onChange","required","x","y","width","height","rx","ry","disabled","to"],"sources":["C:/Users/HP/OneDrive/Desktop/VS Code/C Programming/FullStack/CropXpert/client/src/components/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport \"../styles/Login.css\"; // Make sure this path is correct\n\nfunction Login() {\n    const [formData, setFormData] = useState({\n        username: \"\",\n        password: \"\"\n    });\n    const [error, setError] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n    const navigate = useNavigate();\n\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setFormData(prev => ({\n            ...prev,\n            [name]: value\n        }));\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setLoading(true);\n        setError(\"\");\n\n        try {\n            const response = await fetch(\"http://localhost:3000/login\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify({\n                    username: formData.username,\n                    password: formData.password\n                }),\n            });\n\n            const data = await response.text();\n\n            if (response.ok) {\n                navigate(\"/\");\n            } else {\n                setError(data);\n            }\n        } catch (err) {\n            setError(\"An error occurred. Please try again.\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"login-page\">\n            <div className=\"login-container\">\n                <div className=\"login-card\">\n                    <h1>Welcome to</h1>\n                    <h1>CropXpert</h1>\n                    <p className=\"login-tagline\">Your Smart Farming Assistant</p>\n                    <div className=\"icon-container\">\n                        {/* Simple Plant Icon SVG */}\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                            <path d=\"M12 22c2-4 4-8 4-12 0-2.2-1.8-4-4-4s-4 1.8-4 4c0 4 2 8 4 12z\" />\n                            <path d=\"M12 14c2-2 3-4 3-6 0-1.1-0.9-2-2-2s-2 0.9-2 2c0 2 1 4 3 6z\" />\n                        </svg>\n                    </div>\n                    \n                    {error && <div className=\"error-message\">{error}</div>}\n                    \n                    <form onSubmit={handleSubmit}>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"username\">\n                                {/* User Icon SVG */}\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                    <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\" />\n                                    <circle cx=\"12\" cy=\"7\" r=\"4\" />\n                                </svg>\n                                Username\n                            </label>\n                            <input\n                                type=\"text\"\n                                id=\"username\"\n                                name=\"username\"\n                                value={formData.username}\n                                onChange={handleChange}\n                                required\n                            />\n                        </div>\n                        \n                        <div className=\"form-group\">\n                            <label htmlFor=\"password\">\n                                {/* Lock Icon SVG */}\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                    <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\" />\n                                    <path d=\"M7 11V7a5 5 0 0 1 10 0v4\" />\n                                </svg>\n                                Password\n                            </label>\n                            <input\n                                type=\"password\"\n                                id=\"password\"\n                                name=\"password\"\n                                value={formData.password}\n                                onChange={handleChange}\n                                required\n                            />\n                        </div>\n                        \n                        <button type=\"submit\" className=\"login-btn\" disabled={loading}>\n                            {loading ? \"Logging in...\" : \"Login\"}\n                        </button>\n                    </form>\n                    \n                    <div className=\"divider\">\n                        <span>OR</span>\n                    </div>\n                    \n                    <p>\n                        Don't have an account? <Link to=\"/register\" className=\"register-link\">Register</Link>\n                    </p>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}