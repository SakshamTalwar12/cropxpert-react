{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){const[formData,setFormData]=useState({username:\"\",password:\"\",confirmPassword:\"\"});const[error,setError]=useState(\"\");const[loading,setLoading]=useState(false);const navigate=useNavigate();const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError(\"\");// Password match validation\nif(formData.password!==formData.confirmPassword){setError(\"Passwords do not match\");setLoading(false);return;}try{const response=await fetch(\"/register\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:formData.username,password:formData.password})});const data=await response.text();if(response.ok){navigate(\"/login\");// Redirect to login on successful registration\n}else{setError(data);}}catch(err){setError(\"An error occurred. Please try again.\");}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"register-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"register-card\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Join CropXpert\"}),/*#__PURE__*/_jsx(\"p\",{className:\"register-tagline\",children:\"Create Your Smart Farming Account\"}),/*#__PURE__*/_jsx(\"div\",{className:\"icon-container\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-seedling\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"username\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"}),\" Email\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"username\",name:\"username\",value:formData.username,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"password\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lock\"}),\" Password\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:formData.password,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"confirmPassword\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lock\"}),\" Confirm Password\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"confirmPassword\",name:\"confirmPassword\",value:formData.confirmPassword,onChange:handleChange,required:true})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"register-btn\",disabled:loading,children:loading?\"Creating Account...\":\"Create Account\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\",children:/*#__PURE__*/_jsx(\"span\",{children:\"OR\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"additional-links\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"login-text\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/login\",children:\"Login\"})]})})]})});}export default Register;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Register","formData","setFormData","username","password","confirmPassword","error","setError","loading","setLoading","navigate","handleChange","e","name","value","target","prev","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","text","ok","err","className","children","onSubmit","htmlFor","type","id","onChange","required","disabled","href"],"sources":["C:/Users/HP/OneDrive/Desktop/VS Code/C Programming/FullStack/CropXpert/client/src/components/Register.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction Register() {\n  const [formData, setFormData] = useState({\n    username: \"\",\n    password: \"\",\n    confirmPassword: \"\"\n  });\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  \n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  \n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(\"\");\n    \n    // Password match validation\n    if (formData.password !== formData.confirmPassword) {\n      setError(\"Passwords do not match\");\n      setLoading(false);\n      return;\n    }\n    \n    try {\n      const response = await fetch(\"/register\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          username: formData.username,\n          password: formData.password\n        }),\n      });\n      \n      const data = await response.text();\n      \n      if (response.ok) {\n        navigate(\"/login\"); // Redirect to login on successful registration\n      } else {\n        setError(data);\n      }\n    } catch (err) {\n      setError(\"An error occurred. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  return (\n    <div className=\"register-container\">\n      <div className=\"register-card\">\n        <h1>Join CropXpert</h1>\n        <p className=\"register-tagline\">Create Your Smart Farming Account</p>\n        <div className=\"icon-container\">\n          <i className=\"fas fa-seedling\"></i>\n        </div>\n        <form onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"username\">\n              <i className=\"fas fa-envelope\"></i> Email\n            </label>\n            <input \n              type=\"email\" \n              id=\"username\" \n              name=\"username\" \n              value={formData.username}\n              onChange={handleChange}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">\n              <i className=\"fas fa-lock\"></i> Password\n            </label>\n            <input \n              type=\"password\" \n              id=\"password\" \n              name=\"password\" \n              value={formData.password}\n              onChange={handleChange}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"confirmPassword\">\n              <i className=\"fas fa-lock\"></i> Confirm Password\n            </label>\n            <input \n              type=\"password\" \n              id=\"confirmPassword\" \n              name=\"confirmPassword\" \n              value={formData.confirmPassword}\n              onChange={handleChange}\n              required\n            />\n          </div>\n          {error && <div className=\"error-message\">{error}</div>}\n          <button type=\"submit\" className=\"register-btn\" disabled={loading}>\n            {loading ? \"Creating Account...\" : \"Create Account\"}\n          </button>\n        </form>\n        \n        <div className=\"divider\">\n          <span>OR</span>\n        </div>\n\n        <div className=\"additional-links\">\n          <p className=\"login-text\">Already have an account? <a href=\"/login\">Login</a></p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}